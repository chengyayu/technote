# 常用命令

### 列出容器列表（自定义格式）

```shell
docker ps -a --format "table {{.ID}}\t{{.Images}}\t{.Name}}\t{{.Status}}\t{{.Ports}}"
```

### 公开 docker service 的端口

```shell
# 宿主机 10001 公开，映射到容器服务的 6379
docker service update --publish-add published=10001,target=6379,protocol=tcp,mode=host base_redis
```
## 清理资源

### 清理容器资源

```shell
docker container prune
```

### 清理网络资源

```shell
docker network prune
```
### 清理镜像资源

```shell
docker image prune
```

### 清理所有系统资源
```shell
# will remove:
# - all stopped containers
# - all networks not used by at least one container
# - all dangling images
# - all dangling build cache
docker system prune
```
