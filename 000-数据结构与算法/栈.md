# 栈

## 栈的定义

栈是一种操作受限的线性表，只允许在一端（也就是 **栈顶**）插入和删除数据，并且满足后进先出（**LIFO**）、先进后出（**FILO**）的特性。

## 顺序栈和链式栈

从栈的定义得出，栈主要包含两个操作：入栈和出栈。入栈就是在栈顶插入一个数据，出栈就是在栈顶删除一个数据。使用 **链表** 和 **数组** 都可以实现栈。

不论是顺序栈还是链式栈，入栈和出栈仅需要操作栈顶元素，所以时间复杂度为 `O(1)`。入栈和出栈过程中仅需申请一两个临时变量，所以空间复杂度为 `O(1)`。这是针对 **容量固定** 的栈来说，如果栈支持动态扩缩容，便会对顺序栈提出更高的要求（链式栈不受影响），顺序栈依赖的数组应该换成 **动态数组**。因为扩容时需要搬移全部数据，所以最坏时间复杂度为 `O(n)`，不扩容时，时间复杂度不变，即最好时间复杂度为 `O(1)`，均摊时间复杂度为 `O(1)`。

**顺序栈实现**
```go
type Stack struct {
	val []any
	len int
	cap int
}

func NewStack(cap int) *Stack {
	return &Stack{
		val: make([]any, 0, cap),
		len: 0,
		cap: cap,
	}
}

func (p *Stack) Push(e any) error {
	if p.len == p.cap {
		return fmt.Errorf("stack is full")
	}
	p.val = append(p.val, e)
	p.len = len(p.val)
	return nil
}

func (p *Stack) Pop() any {
	if p.len == 0 {
		return nil
	}

	ret := p.val[p.len-1]
	p.val = p.val[:p.len-1]
	p.len = len(p.val)

	return ret
}
```

**链式栈实现**
```go
```

